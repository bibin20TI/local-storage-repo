<!DOCTYPE html>
<html>
    <head>
        <title>Web Storage World</title>
        <meta charset="utf-8">
        <style>
            .contents{
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                border: 1px solid black;
                border-width:2px;
                padding : 15px;
            }
 
 
            #generateButton{
                margin-top : 5px;
                margin-bottom: 15px;;
            }
        </style>

    </head>
    <body>
        <div class="contents" align="center">
            <button id="incrementButton">Tambah nilai</button>
            <button id="clear">Hapus storage</button>
            <h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
            <h2 id="count">0</h2>
        </div>
        
        <script>
        const localStorageKey = "simpan_di_lokal";
 
        // pengecekan apakah data localStorage dengan key count tersedia atau belum
            if (typeof(Storage) !== "undefined") {
                if (localStorage.getItem(localStorageKey) === null) {
                        // Jika item pada local storage belum ada 
                        // maka akan diberi nilai awal yakni 0
                        localStorage.setItem(localStorageKey, 0);
                    }
                const tambahButton = document.querySelector("#incrementButton");
                const hapusButton = document.querySelector("#clear");
                const tampil = document.querySelector("#count");
                
                // memberikan nilai item dari local storage
                tampil.innerText = localStorage.getItem(localStorageKey);
 
                // mengupdate nilai dari item local storage jika tombol ditekan
                tambahButton.addEventListener('click', function() {
                    let count = localStorage.getItem(localStorageKey);
                    count++;
                    localStorage.setItem(localStorageKey, count);
                    tampil.innerText = localStorage.getItem(localStorageKey);
                })
 
                // memberikan nilai 0 ke tampilan karena di-reset dan menghapus item
                hapusButton.addEventListener('click', function(){
                    localStorage.removeItem(localStorageKey);
                    tampil.innerText = 0;
                })
            } else {
                alert("Browser yang Anda gunakan tidak mendukung Web Storage")
            }
        </script>
    </body>
</html>